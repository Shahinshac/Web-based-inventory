{% extends "base.html" %}

{% block title %}{% if product %}Edit{% else %}Add{% endif %} Product{% endblock %}

{% block content %}
<h1 style="color: #ffffff; margin-bottom: 24px; font-size: 1.75rem;">
    <i class="fas fa-{% if product %}edit{% else %}plus{% endif %}"></i>
    {% if product %}Edit Product{% else %}Add New Product{% endif %}
</h1>

<div class="card" style="max-width: 800px;">
    <form action="{% if product %}{{ url_for('edit_product', id=product.id) }}{% else %}{{ url_for('add_product') }}{% endif %}" method="POST">
        <div class="form-row">
            <div class="form-group">
                <label>Product Name *</label>
                <input type="text" name="name" class="form-control" value="{{ product.name if product else '' }}" required>
            </div>
            
            <div class="form-group">
                <label>HSN Code</label>
                <input type="text" name="hsn_code" class="form-control" value="{{ product.hsn_code if product else '9999' }}">
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label>Category</label>
                <select name="category" class="form-control">
                    {% for cat in ['General', 'Mobile', 'Laptop', 'Electronics', 'Audio', 'Accessories', 'Camera', 'Wearables', 'Smart Home'] %}
                    <option value="{{ cat }}" {% if product and product.category == cat %}selected{% endif %}>{{ cat }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group">
                <label>Quantity *</label>
                <input type="number" name="quantity" class="form-control" value="{{ product.quantity if product else 0 }}" min="0" required>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label>Cost Price (₹) *</label>
                <input type="number" name="cost_price" class="form-control" value="{{ product.cost_price if product else 0 }}" min="0" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label>Selling Price (₹) *</label>
                <input type="number" name="price" class="form-control" value="{{ product.price if product else 0 }}" min="0" step="0.01" required>
            </div>
        </div>
        
        <div class="form-group">
            <label>Minimum Stock (Low Stock Alert)</label>
            <input type="number" name="min_stock" class="form-control" value="{{ product.min_stock if product else 10 }}" min="0">
        </div>
        
        <div style="display: flex; gap: 12px; margin-top: 24px;">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i>
                {% if product %}Update Product{% else %}Add Product{% endif %}
            </button>
            <a href="{{ url_for('products') }}" class="btn btn-secondary">
                <i class="fas fa-times"></i> Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}
